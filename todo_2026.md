# TODO 2026 - HB-RF-ETH-ng Feature-Integration

**Erstellt:** 2026-02-09
**Basis:** v2.1.1 (stabil, RaspberryMatic-Verbindung funktioniert)

---

## Offene TODO-Kommentare im Code

| Datei | Zeile | TODO |
|-------|-------|------|
| `alt/src/nextcloud_client.cpp` | :288 | `TODO: Call actual backup generation function from webui.cpp` |
| `alt/src/nextcloud_client.cpp` | :356 | `TODO: Implement WebDAV PROPFIND with XML parsing` |
| `alt/src/dtls_encryption.cpp.disabled` | :516 | `TODO: Implement certificate storage` |
| `alt/src/dtls_encryption.cpp.disabled` | :522 | `TODO: Implement certificate loading` |
| `alt/src/dtls_encryption.cpp.disabled` | :528 | `TODO: Implement certificate deletion` |

> Alle TODOs sind im `alt/`-Verzeichnis (experimentelle Module), nicht im aktiven Hauptcode.

---

## Feature-Integration (Reihenfolge nach Risiko/Priorität)

### Phase 1: Sicher & Isoliert

| # | Feature | Priorität | Status | Bemerkung |
|---|---------|-----------|--------|-----------|
| 1 | Security Headers & Utilities | Mittel | [x] | Waren bereits integriert. Duplikate entfernt, secure_strcmp mit NULL-Check verbessert, semver.h in updatecheck.cpp genutzt |
| 2 | Log Manager | Niedrig | [x] | Backend war integriert. API-Endpunkte (/api/log, /api/log/download) und WebUI Log-Viewer (systemlog.vue) hinzugefuegt |

### Phase 2: Settings & WebUI

| # | Feature | Priorität | Status | Bemerkung |
|---|---------|-----------|--------|-----------|
| 3 | Settings-Erweiterungen | Klein | [ ] | Nur nötige Erweiterungen für neue Features |
| 4 | WebUI-Verbesserungen | Klein | [ ] | Neue Einstellungs-Seiten, UI-Verbesserungen |
| 5 | Monitoring-Erweiterungen | Klein | [ ] | Erweiterte Metriken, bessere APIs |

### Phase 3: Optionale Features

| # | Feature | Priorität | Status | Bemerkung |
|---|---------|-----------|--------|-----------|
| 6 | DTLS Encryption | Mittel | [ ] | Verschlüsselte UDP-Verbindung (3 TODOs offen) |
| 7 | HMLGW (LAN Gateway) | Niedrig | [ ] | Separate Build-Variante |
| 8 | Analyzer (Debugging) | Niedrig | [ ] | Separate Build-Variante |

### Phase 4: Nice-to-have

| # | Feature | Priorität | Status | Bemerkung |
|---|---------|-----------|--------|-----------|
| 9 | Nextcloud Backup | Niedrig | [ ] | WebDAV-Client, Auto-Backup (2 TODOs offen) |

---

## NICHT EINBAUEN (verursachen Probleme)

| Änderung | Problem | Datei |
|----------|---------|-------|
| `xQueueSend(..., 0)` statt `portMAX_DELAY` | Droppt Connection-Pakete | rawuartudplistener.cpp |
| Mutex-Timeout 5ms statt `portMAX_DELAY` | Frames werden gedroppt | radiomoduleconnector.cpp |
| `MSG_DONTWAIT` in HMLGW | Vorzeitige Disconnects | hmlgw.cpp |

---

## Regeln

1. **NIEMALS gleichzeitig mehrere Features einbauen!**
2. **Nach JEDEM Feature mit RaspberryMatic testen!**
3. **Bei Problemen: Feature sofort zurücknehmen!**
4. **Git-Commit nach jedem funktionierenden Feature!**
5. **Dokumentieren was funktioniert und was nicht!**

---

## Erfolgskriterium

**RaspberryMatic-Verbindung muss nach JEDEM Schritt funktionieren!**
